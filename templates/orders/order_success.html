{% extends 'base.html' %}

{% block title %}Pedido Realizado! - {{ shop.name }}{% endblock %}

{% block content %}
<div class="container">
    <div class="success-page">
        <div class="success-icon">✅</div>
        <h1>Pedido registrado com sucesso!</h1>
        <p>Aguarde, estamos separando seu pedido.</p>

        <div class="order-info-summary">
            <p><strong>Número do Pedido:</strong> #{{ order.id }}</p>
            <p><strong>Status:</strong> {{ order.get_status_display }}</p>
            <p><strong>Total:</strong> R$ {{ order.subtotal }}</p>
        </div>

        <div class="success-actions">
            <a href="{% url 'order_detail' order.id %}" class="btn">Ver Detalhes do Pedido</a>
            <a href="{% url 'home' %}" class="btn btn-secondary">Continuar Comprando</a>
        </div>

        <div class="success-instructions">
            {% if order.delivery_method == 'delivery' %}
            <h3>Instruções de Entrega</h3>
            <p>Seu pedido será entregue em breve no endereço: <br><strong>{{ order.delivery_address }}</strong></p>
            {% else %}
            <h3>Instruções de Retirada</h3>
            <p>Seu pedido estará disponível para retirada em nosso endereço: <br><strong>{{ shop.address }}</strong></p>
            {% endif %}

            <h3>Pagamento</h3>
            <p>
                Forma de pagamento escolhida: <strong>{{ order.get_payment_method_display }}</strong>
            </p>
            {% if order.payment_method == 'money' and order.cash_change %}
            <p>
                Troco solicitado para: <strong>R$ {{ order.cash_change }}</strong>
            </p>
            {% endif %}
            <p>O pagamento de <strong>R$ {{ order.subtotal }}</strong> será feito na {{ order.get_delivery_method_display|lower }}.</p>
        </div>
    </div>
</div>
{% endblock %}